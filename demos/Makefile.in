# Femc Driver
# Copyright (C) 2016-2018 Pauli Saksa
#
# Licensed under The MIT License, see file LICENSE.txt in this source tree.
#
# This file is included by ../Makefile

DEMOS_OBJECTS=demos/main.o demos/date.o demos/echo1.o demos/echo2.o demos/echo3.o \
  demos/ntp_guard.o demos/route.o demos/tcplogger.o demos/timer1.o demos/udplogger.o \
  demos/endian.o demos/write2socket.o \
  demos/babysitter-main.o demos/babysitter-program.o
DEMOS_BINARIES=demos/main demos/endian demos/write2socket demos/babysitter demos/babysitter-program

OBJECTS +=$(DEMOS_OBJECTS)
BINARIES+=$(DEMOS_BINARIES)
TARGETS +=libfemc-demos.a

# binaries

demos/main         : demos/main.o demos/timer1.o demos/date.o demos/echo1.o demos/echo2.o \
  demos/echo3.o demos/route.o
demos/endian       : demos/endian.o
demos/write2socket : demos/write2socket.o

demos/babysitter         : app/babysitter.o demos/babysitter-main.o
demos/babysitter-program : demos/babysitter-program.o

libfemc-demos.a : libfemc-demos.a( $(DEMOS_OBJECTS) )

#

$(DEMOS_BINARIES) : libfemc-driver.a

# generic rules

$(DEMOS_OBJECTS) : demos/Makefile.in

# file-specific flags

demos/ntp_guard.o : CFLAGS+=-Wno-unused-result -Wno-error=cast-function-type
demos/tcplogger.o : CFLAGS+=-Wno-error=cast-function-type
